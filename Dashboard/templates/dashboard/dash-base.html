<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock title %}  </title>
</head>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
        body{
            background-color:#eee;
        }

        .nav-link:hover{
            background-color:#525252 !important;
        }

        .nav-link .fa{
            transition:all 1s;
        }

        .nav-link:hover .fa{
            transform:rotate(360deg);
        }
</style>
<body>
    <div class="d-flex flex-column vh-100 flex-shrink-0 p-3 text-white bg-dark" style="width: 250px; position: fixed;"> 
        <a href="#" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none" > 
            <svg class="bi me-2" width="40" height="32"> </svg> 
            <span class="fs-4" style="margin-bottom: 30px; margin-top: 15px;">Dashboard</span> 
        </a> <hr>
         <ul class="nav nav-pills flex-column mb-auto"> 
             <li class="nav-item" style="margin-bottom: 25px;"> <a href="{% url 'dashboard:dash' %}" class="nav-link active" aria-current="page">
                  <i class="fa fa-home"></i><span class="ms-2">Home</span> </a> 
                </li> 
             <li style="margin-bottom: 25px;"> <a href="{% url 'dashboard:pie-chart' %}" class="nav-link text-white"> <i class="fa fa-dashboard"></i><span class="ms-2">Chart</span> </a> </li> 
             <li style="margin-bottom: 25px;"> <a href="{% url 'dashboard:product-list' %}" class="nav-link text-white"> <i class="fa fa-first-order"></i><span class="ms-2">Producs</span> </a> </li> 
             <li style="margin-bottom: 25px;"> <a href="{% url 'dashboard:categorie-list' %}" class="nav-link text-white"> <i class="fa fa-cog"></i><span class="ms-2">Categories</span> </a> </li> 
             <li style="margin-bottom: 25px;"> <a href="{% url 'dashboard:order-list' %}" class="nav-link text-white"> <i class="fa fa-bookmark"></i><span class="ms-2">Orders</span> </a> </li> 
             {% if request.user.is_staff %}
             <li style="margin-bottom: 25px;"> <a href="{% url 'dashboard:customer-list' %}" class="nav-link text-white"> <i class="fa fa-bookmark"></i><span class="ms-2">Cutomers</span> </a> </li> 
            {% endif %}
         </ul> <hr> 
         <div class="dropdown"> 
            <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false"> 
                <img src="{{ user.more.image.url }}" alt="" width="32" height="32" class="rounded-circle me-2"> <strong>  {{user.username}}</strong>
            </a>
         <ul class="dropdown-menu dropdown-menu-dark text-small shadow" aria-labelledby="dropdownUser1"> 
            <li><a class="dropdown-item" href="{% url 'dashboard:profile' %}">Profile</a></li> <li> <hr class="dropdown-divider"> </li> 
            <li><a class="dropdown-item" href="{% url 'logout' %}">Log out</a></li> 
         </ul> 
      </div>
      </div>
      <div style=" margin-left: 260px; height: 100%;">

        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
            <h1 class="h2">{% block type %} {% endblock type %}</h1>
            <div class="btn-toolbar mb-2 mb-md-0">
              <div class="btn-group me-2">
                {% block url %} {% endblock url %}
              </div>
            </div>
        </div>
        
          
        {% include 'messages.html' %}
        {% block dash %}
        <div class="row row-cols-1  row-cols-md-3 g-4" style="margin-left: 10px;">
        
                  
            <div class="col" style="border-radius: 50px;">
              <div class="card h-100 " style="width: 25em;">
                <div class="card-body">
                  <h1 class="card-title">Confirmed Orders</h5>
                    <hr>
                  <h3 class="card-text">{{orders}}</h3>
          
                  <a href="{% url 'dashboard:order-list'%}"><button class="btn btn-primary">view</button></a>
                  
                </div>
              </div>
            </div>
            <div class="col" style="border-radius: 50px;">
                <div class="card h-100 " style="width: 25em;">
                  <div class="card-body">
                    <h1 class="card-title">Total Categories</h5>
                      <hr>
                    <h3 class="card-text">{{categories}}</h3>
            
                    <a href="#"><button class="btn btn-primary">view</button></a>
                    
                  </div>
                </div>
              </div>
              <div class="col" style="border-radius: 50px;">
                <div class="card h-100 " style="width: 25em;">
                  <div class="card-body">
                    <h1 class="card-title">Total Products</h5>
                      <hr>
                    <h3 class="card-text">{{products}}</h3>
            
                    <a href="#"><button class="btn btn-primary">view</button></a>
                    
                  </div>
                </div>
              </div>
        
              <div class="col" style="border-radius: 50px;">
                <div class="card h-100 " style="width: 25em;">
                  <div class="card-body">
                    <h1 class="card-title">Total Customers</h5>
                      <hr>
                    <h3 class="card-text">{{customers}}</h3>
            
                    <a href="#"><button class="btn btn-primary">view</button></a>
                    
                  </div>
                </div>
              </div>
          
          </div>

          <style type="text/css">
            .why_ .box {
             text-align: center;
             margin-top: 45px;
             padding: 20px 100px;
             border-radius: 5px;
             background-color: #ffffff;
          }
          </style>
                <section class="why_">
                  <div class="container">
                     <div class="row">
                        <div class="col-md-6">
                           <div class="box ">
                              <div >
                                <canvas id="pie" style="width:100%;max-width:600px"></canvas>
                              </div>
                           </div>
                        </div>
                        <div class="col-md-6">
                           <div class="box ">
                              
                              <div>
                                <canvas id="line-chart" style="width:100%;max-width:600px"></canvas>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </section>
          
          
            <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
            <script>
          
          //pie chart
          
          var barColors = [
            "#b91d47",
            "#00aba9",
            "#2b5797",
            "#e8c3b9",
            "#1e7145"
          ];
          
          new Chart("pie", {
            type: "pie",
            data: {
              labels: {{ labels|safe }},
              datasets: [{
                backgroundColor: barColors,
                data: {{ data|safe }},
              }]
            },
            options: {
              title: {
                display: true,
                text: "Products Price"
              }
            }
          });
          
          // line chart
          var xValues = [100,200,300,400,500,600,700,800,900,1000];
          
          new Chart("line-chart", {
            type: "line",
            data: {
              labels: xValues,
              datasets: [{ 
                data: [860,1140,1060,1060,1070,1110,1330,2210,7830,2478],
                borderColor: "red",
                fill: false
              }, { 
                data: [1600,1700,1700,1900,2000,2700,4000,5000,6000,7000],
                borderColor: "green",
                fill: false
              }, { 
                data: [300,700,2000,5000,6000,4000,2000,1000,200,100],
                borderColor: "blue",
                fill: false
              }]
            },
            options: {
              legend: {display: false}
            }
          });
            </script>
        {% endblock dash %}
      </div>
      



</body>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
</html>



</html>